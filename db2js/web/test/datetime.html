<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Db2js</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../jslib/bootstrap-3.3.4/css/bootstrap.css" rel="stylesheet" media="screen">
    <script src="../jslib/jquery-1.10.2.js"></script>
    <script src="../jslib/bootstrap-3.3.4/js/bootstrap.min.js"></script>

    <script src="../jslib/db2js/dataset.js"></script>
    <script src="../jslib/db2js/render.js"></script>
    <script src="../jslib/db2js/renderers.js"></script>
    <script src="../jslib/db2js/collector.js"></script>
    <script src="../jslib/db2js/pipelines.js"></script>

    <script src="../jslib/molecule.js"></script>
    
    <script src="../jslib/date.js/Date.js"></script>

</head>
<body>
	
	<div molecule-def="DateTime" class="datetime" collector="m|s" renderer="molecule">
		<input class="form-control" type="date" format="yyyy-MM-dd"><input class="form-control" type="time" format="HH:mm">
		<script>
	        // MOLECULE_DEF
			[
			 	{$ : '.datetime', display: 'inline-block'},					
			
				{$ : '.datetime > input[type=date]',			
					'border-right' : 'none',
					'border-top-right-radius' : '0px', 
					'border-bottom-right-radius' : '0px',
					'padding-right' : '0px'
				},
				
				{$ : '.datetime > input[type=time]',			
					'border-left' : 'none',
					'border-top-left-radius' : '0px', 
					'border-bottom-left-radius' : '0px',
					'padding-left' : '0px'
				}
			].defCss();
	        function DateTime() {
	        	this.getValue = function(){
	        		var s = this.container.find('[type=date]').val() + ' ' + this.container.find('[type=time]').val();
	        		return Date.parse(s, 'yyyy-MM-dd HH:mm'); 
	        	}
	        	this.setValue = function(value){
	        		if(value){
	        			this.container.find('[type=date]').val(value.format('yyyy-MM-dd'));
	        			this.container.find('[type=time]').val(value.format('HH:mm'));
	        		} else {
	        			this.container.find('[type=date]').val('');
	        			this.container.find('[type=time]').val('');
	        		}
	        	}
	        }	        
	     	// MOLECULE_DEF_END
	     	Molecule.create(DateTime);
		</script> 
	</div>

	<div class="container">
		<form class="form">
			<div class="form-group form-inline">
				<label>DateTime</label>
				<div molecule="DateTime"></div>
			</div>
		</form>
	</div>
	
</body>

</html>